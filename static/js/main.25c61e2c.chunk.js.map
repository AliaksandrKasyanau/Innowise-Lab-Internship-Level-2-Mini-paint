{"version":3,"sources":["store/actions/constans.d.ts","store/actions/canvasActions.ts","store/actions/toolsActions.ts","configs/toastConfig.jsx","firebase/firebase.js","firebase/firebaseAuthQueries.js","store/actions/index.ts","store/actions/authActions.ts","modules/Auth/PasswordReset/PasswordReset.jsx","modules/Auth/SignIn/SignIn.jsx","modules/Auth/SignUp/SignUp.jsx","routes/AuthRouter.jsx","firebase/firebaseDBQueries.jsx","modules/Paint/Gallery/Gallery.tsx","modules/Paint/Canvas/resizeCanvas.ts","modules/Paint/Toolbar/Tools/Tool.ts","modules/Paint/Toolbar/Tools/Brush.ts","modules/Paint/Toolbar/Tools/Rectangle.ts","modules/Paint/Toolbar/Tools/Circle.ts","modules/Paint/Toolbar/Tools/Line.ts","modules/Paint/Toolbar/Tools/Eraser.ts","modules/Paint/Toolbar/Tools/ClearAll.ts","assets/index.js","assets/brush.svg","assets/circle.svg","assets/disk.svg","assets/eraser.svg","assets/line.svg","assets/rectangle.svg","assets/redo.svg","assets/trash.svg","assets/undo.svg","assets/save.svg","assets/signOut.svg","modules/Paint/Toolbar/Toolbar.tsx","modules/Paint/Canvas/Canvas.tsx","modules/Paint/Paint.jsx","routes/PaintRouter.jsx","routes/Routes.jsx","App.js","reportWebVitals.js","store/reducers/currentCanvas.ts","store/reducers/currentTools.ts","store/reducers/currentAuth.ts","store/reducers/rootReducer.ts","store/index.ts","index.js"],"names":["SET_REF","PUSH_TO_UNDO","PUSH_TO_REDO","UNDO","REDO","SET_TOOL","SET_FILL_COLOR","SET_STROKE_COLOR","SET_LINE_WIDTH","SIGN_IN","SIGN_UP","SIGN_OUT","RESET_PASSW","SIGN_ERROR","setRef","canvasState","type","payload","undo","pushToRedo","data","pushToUndo","redo","setFillColor","color","setTool","tool","setStrokeColor","setLineWidth","width","errorToast","text","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","successToast","success","firebaseApp","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","storageRef","storage","ref","provider","GoogleAuthProvider","signInWithGoogle","a","signInWithPopup","res","signUpEmailAndPassword","email","password","createUserWithEmailAndPassword","SignOut","signOut","allActions","canvasActions","toolsActions","authActions","signIn","user","sign_out","sign_up","reset_passw","signin","dispatch","signInWithEmailAndPassword","signInEmailAndPassword","then","uid","catch","sign_error","signUp","message","resetPassw","sendPasswordResetEmail","resetPassword","signInGoogle","PasswordReset","useState","setEmail","useDispatch","className","name","id","value","placeholder","onChange","event","currentTarget","onClick","to","SignIn","setPassword","history","useHistory","onChangeHandler","Container","Row","Col","xs","push","SignUp","displayName","setDisplayName","AuthRouter","path","component","from","getUserDocument","doc","get","userDocument","console","generateUserDocument","additionalData","userRef","exists","set","getPictures","setPictures","child","listAll","result","picArr","Promise","all","items","map","imageRef","getDownloadURL","url","saveImage","canvas","uuid","replace","c","r","Math","random","toString","toBlob","blob","Image","src","put","contentType","snapshot","totalBytes","Gallery","useSelector","state","currentAuth","pictures","useEffect","getAsyncPics","length","picture","i","alt","handleResize","refCanvas","current","parentNode","parseInt","getComputedStyle","getPropertyValue","height","log","Tool","context","getContext","this","endListen","onmousedown","onmousemove","onmouseup","ontouchstart","ontouchend","fillStyle","strokeStyle","lineWidth","Brush","mouseDown","listen","handleMouseDown","bind","handleMouseMove","handleMouseUp","handleTouchDown","ontouchmove","handleTouchMove","handleTouchEnd","beginPath","moveTo","pageX","offsetLeft","pageY","offsetTop","draw","preventDefault","touch","touches","mouseEvent","MouseEvent","clientX","clientY","dispatchEvent","clientLeft","clientTop","x","y","globalCompositeOperation","lineTo","stroke","Rectangle","startX","startY","currentX","currentY","saved","toDataURL","img","onload","clearRect","drawImage","rect","fill","Circle","radius","pow","arc","PI","Line","e","Eraser","ClearAll","Icons","brush","circle","disk","eraser","line","rectangle","trash","save","Toolbar","canvasRef","currentCanvas","setBrush","target","changeFillColor","title","changeStrokeColor","min","max","defaultValue","Canvas","onMouseDown","onTouchStart","Paint","PaintRouter","Routes","onAuthStateChanged","userAuth","login","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","action","dataUrl","pop","initiaslState","currentTools","fillColor","strokeColor","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25c61e2c.chunk.js","sourcesContent":["export const SET_REF = 'SET_REF';\r\nexport const PUSH_TO_UNDO = 'PUSH_TO_UNDO';\r\nexport const PUSH_TO_REDO = 'PUSH_TO_REDO';\r\nexport const UNDO = 'UNDO';\r\nexport const REDO = 'REDO';\r\n\r\nexport const SET_TOOL = 'SET_TOOL';\r\nexport const SET_FILL_COLOR = 'SET_FILL_COLOR';\r\nexport const SET_STROKE_COLOR = 'SET_STROKE_COLOR';\r\nexport const SET_LINE_WIDTH = 'SET_LINE_WIDTH';\r\n\r\nexport const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_UP = 'SIGN_UP';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const RESET_PASSW = 'RESET_PASSW';\r\nexport const SIGN_ERROR = 'SIGN_ERROR';\r\n","import { PUSH_TO_REDO, PUSH_TO_UNDO, REDO, SET_REF, UNDO } from './constans.d';\r\n\r\nconst setRef = (canvasState: HTMLCanvasElement | null) => {\r\n  return {\r\n    type: SET_REF,\r\n    payload: canvasState,\r\n  };\r\n};\r\n\r\nconst redo = () => {\r\n  return {\r\n    type: REDO,\r\n  };\r\n};\r\n\r\nconst undo = () => {\r\n  return {\r\n    type: UNDO,\r\n  };\r\n};\r\n\r\nconst pushToRedo = (data: string) => {\r\n  return {\r\n    type: PUSH_TO_REDO,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst pushToUndo = (data: string) => {\r\n  return {\r\n    type: PUSH_TO_UNDO,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport default { setRef, undo, pushToRedo, pushToUndo, redo };\r\n","import { ToolType } from 'types/types';\r\nimport { SET_FILL_COLOR, SET_LINE_WIDTH, SET_STROKE_COLOR, SET_TOOL } from './constans.d';\r\n\r\nconst setTool = (tool: ToolType) => {\r\n  return {\r\n    type: SET_TOOL,\r\n    payload: tool,\r\n  };\r\n};\r\n\r\nconst setFillColor = (color: string) => {\r\n  return {\r\n    type: SET_FILL_COLOR,\r\n    payload: color,\r\n  };\r\n};\r\n\r\nconst setStrokeColor = (color: string) => {\r\n  return {\r\n    type: SET_STROKE_COLOR,\r\n    payload: color,\r\n  };\r\n};\r\n\r\nconst setLineWidth = (width: number) => {\r\n  return {\r\n    type: SET_LINE_WIDTH,\r\n    payload: width,\r\n  };\r\n};\r\n\r\nexport default { setFillColor, setTool, setStrokeColor, setLineWidth };\r\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const errorToast = (text) => {\r\n  toast.error(text, {\r\n    position: 'top-right',\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  });\r\n};\r\n\r\nexport const successToast = (text) => {\r\n  toast.success(text, {\r\n    position: 'top-right',\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  });\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const db = firebaseApp.firestore();\r\nexport const storage = firebase.storage();\r\nexport const storageRef = storage.ref();\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { successToast } from '@configs/toastConfig';\r\nimport { auth } from './firebase';\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const signInWithGoogle = async () => {\r\n  const res = await auth.signInWithPopup(provider);\r\n  successToast('You are logged in!');\r\n  return res;\r\n};\r\n\r\nexport const signInEmailAndPassword = (email, password) => {\r\n  const res = auth.signInWithEmailAndPassword(email, password);\r\n\r\n  return res;\r\n};\r\n\r\nexport const signUpEmailAndPassword = async (email, password) => {\r\n  const res = await auth.createUserWithEmailAndPassword(email, password);\r\n  successToast('Account has been created!');\r\n  successToast('You are logged in!');\r\n  return res;\r\n};\r\n\r\nexport const resetPassword = (email) => {\r\n  const res = auth.sendPasswordResetEmail(email);\r\n  successToast('Please check your email!');\r\n  return res;\r\n};\r\n\r\nexport const SignOut = async () => {\r\n  await auth.signOut();\r\n};\r\n","import canvasActions from './canvasActions';\r\nimport toolsActions from './toolsActions';\r\nimport authActions from './authActions';\r\n\r\nconst allActions = {\r\n  canvasActions,\r\n  toolsActions,\r\n  authActions,\r\n};\r\n\r\nexport default allActions;\r\n","import { RESET_PASSW, SIGN_ERROR, SIGN_IN, SIGN_OUT, SIGN_UP } from './constans.d';\r\nimport allActions from '.';\r\nimport { AppDispatch, AuthActions, User } from 'types/types';\r\nimport {\r\n  signInEmailAndPassword,\r\n  SignOut,\r\n  signUpEmailAndPassword,\r\n  resetPassword,\r\n  signInWithGoogle,\r\n} from '@firebaseAlias/firebaseAuthQueries';\r\nimport { errorToast, successToast } from '@configs/toastConfig';\r\n\r\nconst signIn = (user: User | null): AuthActions => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nconst sign_up = (user: User | null): AuthActions => {\r\n  return {\r\n    type: SIGN_UP,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nconst sign_out = (): AuthActions => {\r\n  return {\r\n    type: SIGN_OUT,\r\n  };\r\n};\r\n\r\nconst reset_passw = (): AuthActions => {\r\n  return {\r\n    type: RESET_PASSW,\r\n  };\r\n};\r\n\r\nconst sign_error = (): AuthActions => {\r\n  return {\r\n    type: SIGN_ERROR,\r\n  };\r\n};\r\n\r\nconst signin = (email: string, password: string) => {\r\n  return (dispatch: AppDispatch) => {\r\n    signInEmailAndPassword(email, password)\r\n      .then(({ user }: any) => {\r\n        if (user !== undefined) {\r\n          const { uid, email } = user;\r\n          dispatch(allActions.authActions.signIn({ uid, email }));\r\n          successToast('You are logged in!');\r\n        }\r\n      })\r\n      .catch(() => {\r\n        dispatch(allActions.authActions.sign_error());\r\n        errorToast('Something went worng');\r\n      });\r\n  };\r\n};\r\n\r\nconst signOut = () => {\r\n  return (dispatch: AppDispatch) => {\r\n    SignOut().then(() => {\r\n      dispatch(allActions.authActions.sign_out());\r\n    });\r\n  };\r\n};\r\n\r\nconst signUp = (email: string, password: string) => {\r\n  return (dispatch: AppDispatch) => {\r\n    signUpEmailAndPassword(email, password)\r\n      .then(({ user }: any) => {\r\n        const { uid, email } = user;\r\n        dispatch(allActions.authActions.sign_up({ uid, email }));\r\n      })\r\n      .catch(({ message }) => {\r\n        errorToast(message);\r\n        dispatch(allActions.authActions.sign_error());\r\n      });\r\n  };\r\n};\r\n\r\nconst signInGoogle = () => {\r\n  return (dispatch: AppDispatch) => {\r\n    signInWithGoogle().then(({ user }: any) => {\r\n      const { uid, email } = user;\r\n      dispatch(allActions.authActions.signIn({ uid, email }));\r\n    });\r\n  };\r\n};\r\n\r\nconst resetPassw = (email: string) => {\r\n  return (dispatch: AppDispatch) => {\r\n    resetPassword(email)\r\n      .then(() => {\r\n        dispatch(allActions.authActions.reset_passw());\r\n      })\r\n      .catch(({ message }) => {\r\n        errorToast(message);\r\n        dispatch(allActions.authActions.sign_error());\r\n      });\r\n  };\r\n};\r\n\r\nexport default {\r\n  signIn,\r\n  sign_out,\r\n  sign_up,\r\n  reset_passw,\r\n  signin,\r\n  signOut,\r\n  signUp,\r\n  resetPassw,\r\n  signInGoogle,\r\n  sign_error,\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport allActions from '@store/actions';\r\n\r\nconst PasswordReset = () => {\r\n  const [email, setEmail] = useState('');\r\n  const dispatch = useDispatch();\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === 'userEmail') {\r\n      setEmail(value);\r\n    }\r\n  };\r\n  const sendResetEmail = () => {\r\n    dispatch(allActions.authActions.resetPassw(email));\r\n    setEmail('');\r\n  };\r\n  return (\r\n    <div className=\"auth-wrapper\">\r\n      <div className=\"container\">\r\n        <div className=\"icon\">autorenew</div>\r\n        <h1>Reset your Password</h1>\r\n        <div>\r\n          <form className=\"form\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"userEmail\"\r\n              id=\"userEmail\"\r\n              value={email}\r\n              placeholder=\"Input your email\"\r\n              onChange={onChangeHandler}\r\n              className=\"input\"\r\n            />\r\n            <button className=\"button primary-button fp-button\" onClick={sendResetEmail}>\r\n              Send me a reset link\r\n            </button>\r\n          </form>\r\n\r\n          <Link to=\"/\" className=\"link\">\r\n            &larr; back to sign in page\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PasswordReset;\r\n","import React, { useState } from 'react';\r\nimport '@modules/Auth/Auth.scss';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport allActions from '@store/actions';\r\nimport { useDispatch } from 'react-redux';\r\nconst SignIn = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === 'userEmail') {\r\n      setEmail(value);\r\n    } else if (name === 'userPassword') {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  const logginGoogle = () => {\r\n    dispatch(allActions.authActions.signInGoogle());\r\n  };\r\n\r\n  const logginEmailAndPassword = () => {\r\n    dispatch(allActions.authActions.signin(email, password));\r\n    history.push('/');\r\n  };\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Row>\r\n          <Col className=\"auth-wrapper\" xs={12}>\r\n            <div className=\"icon\">login</div>\r\n            <h1>Sign In</h1>\r\n            <form className=\"form\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"input\"\r\n                name=\"userEmail\"\r\n                value={email}\r\n                placeholder=\"Email\"\r\n                id=\"userEmail\"\r\n                onChange={(event) => onChangeHandler(event)}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                className=\"input\"\r\n                name=\"userPassword\"\r\n                value={password}\r\n                placeholder=\"Password\"\r\n                id=\"userPassword\"\r\n                onChange={(event) => onChangeHandler(event)}\r\n              />\r\n              <Link to=\"password-reset\" className=\"link\">\r\n                Forgot Password?\r\n              </Link>\r\n              <button className=\"button primary-button\" onClick={logginEmailAndPassword}>\r\n                Sign In\r\n              </button>\r\n            </form>\r\n            <button className=\"button google-button\" onClick={logginGoogle}>\r\n              {' '}\r\n              Sign in with Google\r\n            </button>\r\n            <p>\r\n              Don`t have an account?{' '}\r\n              <Link to=\"sign-up\" className=\"link\">\r\n                Sign up\r\n              </Link>{' '}\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport allActions from '@store/actions';\r\nimport { errorToast } from '@configs/toastConfig';\r\n\r\nconst SignUp = () => {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [displayName, setDisplayName] = useState('');\r\n  const dispatch = useDispatch();\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === 'userEmail') {\r\n      setEmail(value);\r\n    } else if (name === 'userPassword') {\r\n      setPassword(value);\r\n    } else if (name === 'displayName') {\r\n      setDisplayName(value);\r\n    }\r\n  };\r\n  const createUser = () => {\r\n    dispatch(allActions.authActions.signUp(email, password, displayName));\r\n    history.push('/');\r\n  };\r\n  const logginGoogle = () => {\r\n    try {\r\n      dispatch(allActions.authActions.signInGoogle());\r\n      history.push('/');\r\n    } catch (error) {\r\n      errorToast('SignIn Error');\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Row>\r\n          <Col className=\"auth-wrapper\" xs={12}>\r\n            <div className=\"icon\">how_to_reg</div>\r\n            <h1>Sign Up</h1>\r\n            <form className=\"form\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"input\"\r\n                name=\"displayName\"\r\n                value={displayName}\r\n                placeholder=\"Your Name\"\r\n                id=\"displayName\"\r\n                onChange={onChangeHandler}\r\n              />\r\n              <input\r\n                type=\"email\"\r\n                className=\"input\"\r\n                name=\"userEmail\"\r\n                value={email}\r\n                placeholder=\"Email\"\r\n                id=\"userEmail\"\r\n                onChange={onChangeHandler}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                className=\"input\"\r\n                name=\"userPassword\"\r\n                value={password}\r\n                placeholder=\"Password\"\r\n                id=\"userPassword\"\r\n                onChange={onChangeHandler}\r\n              />\r\n              <button className=\"button primary-button\" onClick={createUser}>\r\n                Sign Up\r\n              </button>\r\n            </form>\r\n            <button onClick={logginGoogle} className=\"button google-button\">\r\n              Sign In with Google\r\n            </button>\r\n\r\n            <p>\r\n              Already have an account?{' '}\r\n              <Link to=\"/\" className=\"link\">\r\n                Sign in here\r\n              </Link>{' '}\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport PasswordReset from '@modules/Auth/PasswordReset/PasswordReset';\r\nimport SignIn from '@modules/Auth/SignIn/SignIn';\r\nimport SignUp from '@modules/Auth/SignUp/SignUp';\r\n\r\nfunction AuthRouter() {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/sign-in\" component={SignIn} />\r\n        <Route path=\"/sign-up\" component={SignUp} />\r\n        <Route path=\"/password-reset\" component={PasswordReset} />\r\n        <Redirect from=\"/\" to=\"/sign-in\" />\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default AuthRouter;\r\n","import { errorToast, successToast } from '@configs/toastConfig';\r\n\r\nimport { auth, firestore, storageRef } from './firebase';\r\n\r\nconst getUserDocument = async (uid) => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n\r\n    return {\r\n      uid,\r\n      ...userDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching user', error);\r\n  }\r\n};\r\n\r\nexport const generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n\r\n  if (!snapshot.exists) {\r\n    const { email, displayName } = user;\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error creating user document', error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\n\r\nexport const sendResetEmail = (event, email) => {\r\n  event.preventDefault();\r\n  auth\r\n    .sendPasswordResetEmail(email)\r\n    .then(() => {\r\n      successToast('Email has been sent!');\r\n    })\r\n    .catch(() => {\r\n      errorToast('Invalid credentials');\r\n    });\r\n};\r\n\r\nfunction uuidv4() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    var r = (Math.random() * 16) | 0,\r\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n}\r\nexport const getPictures = async (setPictures, uid) => {\r\n  storageRef\r\n    .child('images/' + uid + '/')\r\n    .listAll()\r\n    .then(async (result) => {\r\n      let picArr = [];\r\n      await Promise.all(\r\n        result.items.map(async (imageRef) => {\r\n          await imageRef.getDownloadURL().then((url) => {\r\n            picArr.push(url);\r\n          });\r\n        })\r\n      );\r\n      await setPictures([...picArr]);\r\n      storageRef.child('images/' + uid + '/');\r\n    });\r\n};\r\n\r\nexport function saveImage(canvas, uid) {\r\n  let uuid = uuidv4();\r\n  canvas.toBlob(function (blob) {\r\n    let image = new Image();\r\n    image.src = blob;\r\n    let metadata = {\r\n      contentType: 'image/png',\r\n    };\r\n    storageRef\r\n      .child('images/' + uid + '/' + uuid)\r\n      .put(blob, metadata)\r\n      .then(function (snapshot) {\r\n        successToast('Uploaded ' + snapshot.totalBytes + ' bytes.');\r\n      })\r\n      .catch(function (error) {\r\n        errorToast('Upload failed: ' + error);\r\n      });\r\n  });\r\n}\r\n","import { getPictures } from '@firebaseAlias/firebaseDBQueries';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { RootStateOrAny, useSelector } from 'react-redux';\r\n\r\nfunction Gallery() {\r\n  const user = useSelector((state: RootStateOrAny) => state.currentAuth);\r\n  const history = useHistory();\r\n  const [pictures, setPictures] = useState([]);\r\n  const { uid } = user.user;\r\n  useEffect(() => {\r\n    const getAsyncPics = async () => {\r\n      await getPictures(setPictures, uid);\r\n    };\r\n\r\n    getAsyncPics();\r\n  }, []);\r\n\r\n  const goBackHandler = () => {\r\n    history.push('/');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1>Gallery</h1>\r\n      {pictures.length > 0 ? (\r\n        <div className=\"picture-list-wrapper\">\r\n          <div className=\"picture-list\" id=\"gallery\">\r\n            {pictures.map((picture, i) => {\r\n              return <img src={picture} alt=\"\" key={i} />;\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"empty-list\">\r\n          <h2>Gallery is empty</h2>\r\n        </div>\r\n      )}\r\n\r\n      <button onClick={goBackHandler} className=\"gallery-back-btn\">\r\n        Paint\r\n      </button>\r\n    </>\r\n  );\r\n}\r\nexport default Gallery;\r\n","import React from 'react';\r\n\r\nconst handleResize = (refCanvas: React.RefObject<HTMLCanvasElement>) => {\r\n  if (refCanvas.current == null) return;\r\n\r\n  const parentNode = refCanvas.current.parentNode as HTMLDivElement;\r\n\r\n  refCanvas.current.width = parseInt(getComputedStyle(parentNode).getPropertyValue('width'));\r\n  refCanvas.current.height = parseInt(getComputedStyle(parentNode).getPropertyValue('height'));\r\n  console.log(refCanvas.current.height);\r\n};\r\n\r\nexport default handleResize;\r\n","export default class Tool {\r\n  canvas: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D | null;\r\n\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    if (canvas != null) {\r\n      const context = canvas.getContext('2d');\r\n      this.canvas = canvas;\r\n      this.context = context;\r\n      this.endListen();\r\n    }\r\n  }\r\n\r\n  endListen(): void {\r\n    this.canvas.onmousedown = null;\r\n    this.canvas.onmousemove = null;\r\n    this.canvas.onmouseup = null;\r\n    this.canvas.ontouchstart = null;\r\n    this.canvas.ontouchend = null;\r\n    this.canvas.ontouchend = null;\r\n  }\r\n\r\n  set fillColor(color: string) {\r\n    this.context.fillStyle = color;\r\n  }\r\n\r\n  set strokeColor(color: string) {\r\n    this.context.strokeStyle = color;\r\n  }\r\n\r\n  set lineWidth(width: number) {\r\n    this.context.lineWidth = width;\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Brush extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.context?.moveTo(\r\n      event.pageX - this.canvas.offsetLeft,\r\n      event.pageY - this.canvas.offsetTop,\r\n    );\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      this.draw(\r\n        event.pageX - this.canvas.offsetLeft,\r\n        event.pageY - this.canvas.offsetTop,\r\n      );\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number): void {\r\n    this.context.globalCompositeOperation = 'source-over';\r\n    this.context?.lineTo(x, y);\r\n    this.context?.stroke();\r\n    console.log('Draw brush');\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Rectangle extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n  startX: number;\r\n  startY: number;\r\n  currentX: number;\r\n  currentY: number;\r\n  saved: any;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.startX = event.pageX - this.canvas.offsetLeft;\r\n    this.startY = event.pageY - this.canvas.offsetTop;\r\n    this.saved = this.canvas.toDataURL();\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      const currentX = event.pageX - this.canvas.offsetLeft;\r\n      const currentY = event.pageY - this.canvas.offsetTop;\r\n      const width = currentX - this.startX;\r\n      const height = currentY - this.startY;\r\n      this.draw(this.startX, this.startY, width, height);\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number, width: number, height: number): void {\r\n    const img = new Image();\r\n    img.src = this.saved;\r\n    img.onload = () => {\r\n      this.context.globalCompositeOperation = 'source-over';\r\n      this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.beginPath();\r\n      this.context?.rect(x, y, width, height);\r\n      this.context?.fill();\r\n      this.context?.stroke();\r\n    };\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Circle extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n  startX: number;\r\n  startY: number;\r\n  saved: any;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.startX = event.pageX - this.canvas.offsetLeft;\r\n    this.startY = event.pageY - this.canvas.offsetTop;\r\n    this.saved = this.canvas.toDataURL();\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      const currentX = event.pageX - this.canvas.offsetLeft;\r\n      const currentY = event.pageY - this.canvas.offsetTop;\r\n      const width = currentX - this.startX;\r\n      const height = currentY - this.startY;\r\n      const radius = Math.pow(width * width + height * height, 1 / 2);\r\n      this.draw(this.startX, this.startY, radius);\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number, radius: number): void {\r\n    const img = new Image();\r\n    img.src = this.saved;\r\n    img.onload = () => {\r\n      this.context.globalCompositeOperation = 'source-over';\r\n      this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.beginPath();\r\n      this.context?.arc(x, y, radius, 0, Math.PI * 2);\r\n      this.context?.fill();\r\n      this.context?.stroke();\r\n    };\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Line extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n  startX: number;\r\n  startY: number;\r\n  currentX: number;\r\n  currentY: number;\r\n  saved: any;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(e: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.currentX = e.pageX - this.canvas.offsetLeft;\r\n    this.currentY = e.pageY - this.canvas.offsetTop;\r\n    this.context?.moveTo(this.currentX, this.currentY);\r\n    this.saved = this.canvas.toDataURL();\r\n  }\r\n\r\n  handleMouseMove(e: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      const currentX = e.pageX - this.canvas.offsetLeft;\r\n      const currentY = e.pageY - this.canvas.offsetTop;\r\n      this.draw(currentX, currentY);\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number): void {\r\n    const img = new Image();\r\n    img.src = this.saved;\r\n    img.onload = () => {\r\n      this.context.globalCompositeOperation = 'source-over';\r\n      this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.beginPath();\r\n      this.context?.moveTo(this.currentX, this.currentY);\r\n      this.context?.lineTo(x, y);\r\n      this.context?.stroke();\r\n    };\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Eraser extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.context?.moveTo(event.pageX - this.canvas.offsetLeft, event.pageY - this.canvas.offsetTop);\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      this.draw(event.pageX - this.canvas.offsetLeft, event.pageY - this.canvas.offsetTop);\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number, radius = 10): void {\r\n    this.context.globalCompositeOperation = 'destination-out';\r\n    this.context.moveTo(x, y);\r\n    this.context.arc(x, y, radius, 0, Math.PI * 2, false);\r\n    this.context.fill();\r\n    this.context?.stroke();\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class ClearAll extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.draw();\r\n  }\r\n\r\n  draw(): void {\r\n    this.context.globalCompositeOperation = 'destination-out';\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.context.beginPath();\r\n  }\r\n}\r\n","import brush from '@assets/brush.svg';\r\nimport circle from '@assets/circle.svg';\r\nimport disk from '@assets/disk.svg';\r\nimport eraser from '@assets/eraser.svg';\r\nimport line from '@assets/line.svg';\r\nimport rectangle from '@assets/rectangle.svg';\r\nimport redo from '@assets/redo.svg';\r\nimport trash from '@assets/trash.svg';\r\nimport undo from '@assets/undo.svg';\r\nimport save from '@assets/save.svg';\r\nimport signOut from '@assets/signOut.svg';\r\n\r\nconst Icons = {\r\n  brush: brush,\r\n  circle: circle,\r\n  disk: disk,\r\n  eraser: eraser,\r\n  line: line,\r\n  rectangle: rectangle,\r\n  redo: redo,\r\n  trash: trash,\r\n  undo: undo,\r\n  save: save,\r\n  signOut: signOut,\r\n};\r\nexport default Icons;\r\n","export default __webpack_public_path__ + \"static/media/brush.e883c464.svg\";","export default __webpack_public_path__ + \"static/media/circle.bcdffe73.svg\";","export default __webpack_public_path__ + \"static/media/disk.4e36d248.svg\";","export default __webpack_public_path__ + \"static/media/eraser.ba621429.svg\";","export default __webpack_public_path__ + \"static/media/line.c0682632.svg\";","export default __webpack_public_path__ + \"static/media/rectangle.f713332e.svg\";","export default __webpack_public_path__ + \"static/media/redo.127486dd.svg\";","export default __webpack_public_path__ + \"static/media/trash.156c9cc0.svg\";","export default __webpack_public_path__ + \"static/media/undo.02761356.svg\";","export default __webpack_public_path__ + \"static/media/save.8b14ea83.svg\";","export default __webpack_public_path__ + \"static/media/signOut.9fbf96f0.svg\";","/* eslint-disable no-self-assign */\r\nimport React, { useEffect } from 'react';\r\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\r\nimport Brush from './Tools/Brush';\r\nimport Rectangle from './Tools/Rectangle';\r\nimport Circle from './Tools/Circle';\r\nimport Line from './Tools/Line';\r\nimport Eraser from './Tools/Eraser';\r\nimport ClearAll from './Tools/ClearAll';\r\nimport allActions from '@store/actions';\r\nimport { saveImage } from '@firebaseAlias/firebaseDBQueries';\r\nimport Icons from '@assets/index';\r\nconst Toolbar = () => {\r\n  const dispatch = useDispatch();\r\n  const canvasRef = useSelector((state: RootStateOrAny) => state.currentCanvas);\r\n  const user = useSelector((state: RootStateOrAny) => state.currentAuth);\r\n\r\n  const setBrush = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setTool(new Brush(canvasRef.current)));\r\n    }\r\n  };\r\n\r\n  const setRect = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setTool(new Rectangle(canvasRef.current)));\r\n    }\r\n  };\r\n\r\n  const setCircle = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setTool(new Circle(canvasRef.current)));\r\n    }\r\n  };\r\n\r\n  const setLine = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setTool(new Line(canvasRef.current)));\r\n    }\r\n  };\r\n\r\n  const setEraser = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setTool(new Eraser(canvasRef.current)));\r\n    }\r\n  };\r\n\r\n  const lineWidth = (event: any) => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setLineWidth(event.target.value));\r\n    }\r\n  };\r\n\r\n  const clearAll = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setTool(new ClearAll(canvasRef.current)));\r\n    }\r\n  };\r\n\r\n  const changeStrokeColor = (event: any) => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setStrokeColor(event.target.value));\r\n    }\r\n  };\r\n\r\n  const changeFillColor = (event: any) => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setFillColor(event.target.value));\r\n    }\r\n  };\r\n\r\n  const undo = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.canvasActions.undo());\r\n    }\r\n  };\r\n\r\n  const redo = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.canvasActions.redo());\r\n    }\r\n  };\r\n\r\n  const handleSaveImage = () => {\r\n    if (!canvasRef) {\r\n      return;\r\n    }\r\n    const { uid } = user.user;\r\n    saveImage(canvasRef.current, uid);\r\n  };\r\n  useEffect(() => {\r\n    setBrush();\r\n  }, []);\r\n  return (\r\n    <div className=\"toolbar-container\">\r\n      <label>Fill Color</label>\r\n      <input type=\"color\" onChange={(event) => changeFillColor(event)} title={'Fill Color'} />\r\n\r\n      <label>Stroke Color</label>\r\n      <input type=\"color\" onChange={(event) => changeStrokeColor(event)} title={'Stroke Color'} />\r\n\r\n      <label>Line Width</label>\r\n      <br />\r\n      <input\r\n        className=\"line-width\"\r\n        type=\"number\"\r\n        min={1}\r\n        max={30}\r\n        defaultValue={1}\r\n        title={' '}\r\n        onChange={(event) => lineWidth(event)}\r\n      />\r\n\r\n      <div className=\"button-tools\">\r\n        <button onClick={setLine}>\r\n          <img src={Icons.line} />\r\n        </button>\r\n        <button onClick={setBrush}>\r\n          <img src={Icons.brush} />\r\n        </button>\r\n        <button onClick={setRect}>\r\n          <img src={Icons.rectangle} />\r\n        </button>\r\n        <button onClick={setCircle}>\r\n          <img src={Icons.circle} />\r\n        </button>\r\n        <button onClick={undo}>\r\n          {' '}\r\n          <img src={Icons.undo} />\r\n        </button>\r\n        <button onClick={redo}>\r\n          {' '}\r\n          <img src={Icons.redo} />\r\n        </button>\r\n        <button onClick={setEraser}>\r\n          {' '}\r\n          <img src={Icons.eraser} />\r\n        </button>\r\n        <button onClick={clearAll}>\r\n          {' '}\r\n          <img src={Icons.trash} />\r\n        </button>\r\n        <button onClick={handleSaveImage}>\r\n          {' '}\r\n          <img src={Icons.save} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import React, { useEffect } from 'react';\nimport '../Paint.scss';\nimport { useHistory } from 'react-router';\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\nimport allActions from '@store/actions';\nimport handleResize from './resizeCanvas';\nimport Toolbar from '../Toolbar/Toolbar';\nimport Icons from '@assets/index';\n\nconst Canvas = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const canvasRef = useSelector((state: RootStateOrAny) => state.currentCanvas);\n\n  useEffect(() => {\n    dispatch(allActions.canvasActions.setRef(canvasRef.current));\n  }, []);\n\n  const handleMouseDown = () => {\n    if (canvasRef.current?.toDataURL) {\n      dispatch(allActions.canvasActions.pushToRedo(canvasRef.current.toDataURL()));\n    }\n  };\n\n  useEffect(() => {\n    handleResize(canvasRef);\n  }, []);\n\n  const signOutHandle = () => {\n    dispatch(allActions.authActions.signOut());\n  };\n  const galleryLinkHandler = () => {\n    history.push('/gallery');\n  };\n  return (\n    <>\n      <canvas\n        onMouseDown={handleMouseDown}\n        onTouchStart={handleMouseDown}\n        ref={canvasRef}\n        className=\"canvas\"\n      />\n      <footer>\n        <Toolbar />\n        <button onClick={galleryLinkHandler}>Gallery</button>\n        <button className=\" sign-out\" onClick={signOutHandle}>\n          <img src={Icons.signOut} />\n        </button>\n      </footer>\n    </>\n  );\n};\n\nexport default Canvas;\n","import React from 'react';\nimport Canvas from './Canvas/Canvas';\n\nfunction Paint() {\n  return (\n    <>\n      <>\n        <Canvas />\n      </>\n    </>\n  );\n}\nexport default Paint;\n","import Gallery from '@modules/Paint/Gallery/Gallery';\r\nimport React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Paint from '../modules/Paint/Paint';\r\n\r\nfunction PaintRouter() {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/gallery\" component={Gallery} />\r\n        <Route path=\"/\" component={Paint} />\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default PaintRouter;\r\n","import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport AuthRouter from './AuthRouter';\r\nimport PaintRouter from './PaintRouter';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { auth } from '@firebaseAlias/firebase';\r\nimport { generateUserDocument } from '@firebaseAlias/firebaseDBQueries';\r\nimport allActions from '@store/actions/index';\r\n\r\nfunction Routes() {\r\n  const user = useSelector((state) => state.currentAuth);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(async (userAuth) => {\r\n      const user = await generateUserDocument(userAuth);\r\n      if (user) {\r\n        dispatch(allActions.authActions.signIn(user));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return user.login ? (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <PaintRouter />\r\n      </Router>\r\n    </div>\r\n  ) : (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <AuthRouter />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport './App.scss';\nimport Routes from './routes/Routes';\n\nfunction App() {\n  return (\n    <>\n      <ToastContainer />\n      <Routes />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { PUSH_TO_REDO, PUSH_TO_UNDO, REDO, SET_REF, UNDO } from '@store/actions/constans.d';\r\nimport { CanvasActions, CanvasState } from 'types/types';\r\n\r\nconst initialState = {\r\n  canvasRef: null as null,\r\n  undo: [] as string[],\r\n  redo: [] as string[],\r\n};\r\n\r\nconst currentCanvas = (state: CanvasState = initialState, action: CanvasActions) => {\r\n  switch (action.type) {\r\n    case SET_REF: {\r\n      return {\r\n        ...state,\r\n        canvasRef: action.payload,\r\n      };\r\n    }\r\n\r\n    case PUSH_TO_REDO: {\r\n      return {\r\n        ...state,\r\n        redo: [...state.redo, action.payload],\r\n      };\r\n    }\r\n\r\n    case PUSH_TO_UNDO: {\r\n      return {\r\n        ...state,\r\n        redo: [...state.undo, action.payload],\r\n      };\r\n    }\r\n\r\n    case REDO: {\r\n      const canvas: CanvasRenderingContext2D | null = state.canvasRef.getContext('2d');\r\n      canvas.globalCompositeOperation = 'source-over';\r\n      if (state.undo.length > 0) {\r\n        const dataUrl = state.undo.pop();\r\n        state.redo.push(state.canvasRef.toDataURL());\r\n        const img = new Image();\r\n        img.src = dataUrl;\r\n        img.onload = () => {\r\n          canvas?.clearRect(0, 0, state.canvasRef.width, state.canvasRef.height);\r\n          canvas?.drawImage(img, 0, 0, state.canvasRef.width, state.canvasRef.height);\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n    case UNDO: {\r\n      const canvas: CanvasRenderingContext2D | null = state.canvasRef.getContext('2d');\r\n      canvas.globalCompositeOperation = 'source-over';\r\n      if (state.redo.length > 0) {\r\n        const dataUrl = state.redo.pop();\r\n        state.undo.push(state.canvasRef.toDataURL());\r\n        const img = new Image();\r\n        img.src = dataUrl;\r\n        img.onload = () => {\r\n          canvas?.clearRect(0, 0, state.canvasRef.width, state.canvasRef.height);\r\n          canvas?.drawImage(img, 0, 0, state.canvasRef.width, state.canvasRef.height);\r\n        };\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default currentCanvas;\r\n","import {\r\n  SET_FILL_COLOR,\r\n  SET_LINE_WIDTH,\r\n  SET_STROKE_COLOR,\r\n  SET_TOOL,\r\n} from '@store/actions/constans.d';\r\nimport { ToolsAction, ToolsState } from 'types/types';\r\n\r\nconst initiaslState = {\r\n  tool: undefined as undefined,\r\n};\r\n\r\nconst currentTools = (state: ToolsState = initiaslState, action: ToolsAction) => {\r\n  switch (action.type) {\r\n    case SET_TOOL: {\r\n      return {\r\n        ...state,\r\n        tool: action.payload,\r\n      };\r\n    }\r\n\r\n    case SET_FILL_COLOR: {\r\n      if (state.tool) {\r\n        state.tool.fillColor = action.payload;\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case SET_STROKE_COLOR: {\r\n      if (state.tool) {\r\n        state.tool.strokeColor = action.payload;\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case SET_LINE_WIDTH: {\r\n      if (state.tool) {\r\n        state.tool.lineWidth = action.payload;\r\n      }\r\n      return state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default currentTools;\r\n","import { RESET_PASSW, SIGN_ERROR, SIGN_IN, SIGN_OUT, SIGN_UP } from '@store/actions/constans.d';\r\nimport { AuthActions, AuthState } from 'types/types';\r\n\r\nconst initialState = {\r\n  login: false,\r\n  user: null as any,\r\n};\r\n\r\nconst currentAuth = (state: AuthState = initialState, action: AuthActions) => {\r\n  switch (action.type) {\r\n    case SIGN_IN: {\r\n      return {\r\n        ...state,\r\n        login: true,\r\n        user: action.payload,\r\n      };\r\n    }\r\n    case SIGN_OUT: {\r\n      return {\r\n        ...state,\r\n        login: false,\r\n        user: null,\r\n      };\r\n    }\r\n    case RESET_PASSW: {\r\n      return {\r\n        ...state,\r\n        login: false,\r\n      };\r\n    }\r\n    case SIGN_UP: {\r\n      return {\r\n        ...state,\r\n        login: true,\r\n        user: action.payload,\r\n      };\r\n    }\r\n    case SIGN_ERROR: {\r\n      return {\r\n        ...state,\r\n        login: false,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default currentAuth;\r\n","import { combineReducers } from 'redux';\r\nimport currentCanvas from './currentCanvas';\r\nimport currentTools from './currentTools';\r\nimport currentAuth from './currentAuth';\r\nconst rootReducer = combineReducers({\r\n  currentCanvas,\r\n  currentTools,\r\n  currentAuth,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport rootReducer from './reducers/rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from '@store/';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}